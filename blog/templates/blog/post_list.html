
{% extends "base.html" %}
{% block header %}
    <div class="row titlerow">
          <div class="col-md-12 text-center">
          <h1 class="text-white title">My thoughts on some things</h1>
        </div>
      </div>
        <div class="row">
            <div class="col-md-4"></div>
            <div class="col-md-4">
               <!--  <p class="text-white">The TinyMCE widget can be enabled by setting it as the widget for a formfield. For example, to use a nice big TinyMCE widget for the content field of a flatpage form you could use the following code:</p> -->
            </div>
            <div class="col-md-4"></div>
        </div>

{% endblock %}
{% block content%}
<div class="container">
    <div class="row">

      <div class="col-md-2"></div>
      <div class="col-md-8 content">

        {% if user.is_authenticated %}
        <a href="{% url "post_new" %}" class="top-menu"><span class="glyphicon glyphicon-plus"></span></a>
        <a href="{% url 'post_draft_list' %}" class="top-menu"><span class="glyphicon glyphicon-edit"></span></a>
        {% endif %}
        {% for post  in  posts %}
        <h1 class="posttitle"><a href="{% url "post_detail" pk=post.pk %}">{{ post.title }}</a></h1>
        <p class="published"> Published: {{post.published_date}}</p>
        <div class="border">

        {%if post.img %} <img class = "img-responsive img-rounded blogimage" src="{{post.img.url}}">  {% endif %}
        <p class="blogcontent"> {{post.text|safe|truncatechars:200}}</p>

        <a href="{% url "blog.views.post_detail" pk=post.pk %}" class="comment">Comments: {{ post.approved_comments.count }}</a>
        </div>
        {% endfor %}

      </div><!--close row-->
      <div class="col-md-2"></div>
    </div>
  </div><!--close container-->
  {% endblock content %}
